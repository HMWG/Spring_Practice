<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>갬블링 게임</title>
<style>
table {
border : 1px solid violet;
border-collapse : collapse; 
}
td {
width : 50px;
height : 50px;
padding : 0px;
font : italic 50px consolas, sans-serif;
color : blue;
text-align : center;
background : linen;
}

td:hover{
    cursor: pointer;
}

div#msg {
font : italic 18px consolas, sans-serif;
color : magenta;
margin-top : 10px;
}

div#msg:hover{
    cursor: pointer;
}

</style>

    </head>
    <body>
    <h3>갬블링 게임</h3>
    <p>각 숫자를 클릭하면 0에서 2사이의 난수로 바뀝니다. 
    모두 같은 수가 나오면 승리합니다.</p>
    <hr>
    <table>
    <tr>
    <td id="first" onclick="gen(this, 0)">0</td>
    <td id="second" onclick="gen(this, 1)">0</td>
    <td id="third" onclick="gen(this, 2)">0</td>
    </tr>
    </table>
    <div id="msg" onclick="reset()"></div>
    <script>
        var gameArray = [0, 0, 0];
        var check = [0, 0, 0];
        var m = document.getElementById("msg");
    
        function gen(e, i) {
            if(check[i] == 1)
                return;
    
            var n = Math.floor(Math.random()*3);
    
            e.innerHTML = n;
            gameArray[i] = n;
            check[i] = 1;
    
            if(check[0] == 1 && check[1] == 1 && check[2] == 1){
                if(gameArray[0] == gameArray[1] && gameArray[1] == gameArray[2])
                    m.innerHTML = "Success(click here to do again)"

                else
                    m.innerHTML = "fail(click here to do again)"
            }
    
        }
        function reset() {
            m.innerText = ""
            for(i=0; i<=2; i++){
                check[i] = 0;
                gameArray[i] = 0;
            }
            document.getElementById("first").innerText = "0";
            document.getElementById("third").innerText = "0";
            document.getElementById("second").innerText = "0";
        }
    </script>
    </body>
    
    </html>